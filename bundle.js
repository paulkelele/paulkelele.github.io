(()=>{var e=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],n=document.querySelectorAll(".case"),t=!0;function i(i,l){for(var c=0,o=0,d=0,a=0,s=0,u=e.length-1,w=0;w<e.length;w++){if(o+=e[i][w],d+=e[w][l],a+=e[w][w],s+=e[w][u-w],4==o||4==d||4==a||4==s){for(var m=0;m<4;m++)4==o?n[r(i,m)].classList.add("cellwingreen"):4==d?n[r(m,l)].classList.add("cellwingreen"):4==a?n[r(m,m)].classList.add("cellwingreen"):4==s&&n[r(m,u-m)].classList.add("cellwingreen");return document.getElementById("winner").innerText="You Win",void(t=!1)}if(-4==o||-4==d||-4==a||-4==s){for(var f=0;f<4;f++)-4==o?n[r(i,f)].classList.add("cellwinpink"):-4==d?n[r(f,l)].classList.add("cellwinpink"):-4==a?n[r(f,f)].classList.add("cellwinpink"):-4==s&&n[r(f,u-f)].classList.add("cellwinpink");return document.getElementById("winner").innerText="Computer win",void(t=!1)}for(var g=0;g<e[w].length;g++)0==e[w][g]&&(c+=1)}if(0==c)return document.getElementById("winner").innerText="Tie game",void(t=!1)}function r(e,n){return 4*e+n}n.forEach((function(l,c){l.addEventListener("click",(function(){var o=c%4,d=(c-o)/4;0!=t&&(1!=t||0==e[d][o]?(document.getElementById("winner").innerText="who will win... you or computer ?",e[d][o]=1,l.classList.add("j1couleur"),i(d,o),setTimeout((function(){!function(){for(var l=[],c=0;c<e.length;c++)for(var o=0;o<e[c].length;o++)if(0==e[c][o]){var d=r(c,o);l.push(d)}var a=l[Math.floor(Math.random()*l.length)],s=a%4,u=(a-s)/4;0==e[u][s]&&1==t&&(e[u][s]=-1,n[a].classList.add("j2couleur"),i(u,s))}()}),500)):document.getElementById("winner").innerText="All ready cliqued..")}))})),document.getElementById("restart").addEventListener("click",(function(){e=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],t=!0,document.getElementById("winner").innerText="who will win... you or computer ?",n.forEach((function(e){e.classList.remove("j1couleur","j2couleur","cellwingreen","cellwinpink")}))}))})();