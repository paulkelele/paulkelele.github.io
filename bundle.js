(()=>{var e=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],n=document.querySelectorAll(".case"),t=!0;function i(i,r){for(var c=0,d=0,a=0,o=0,s=0,u=e.length-1,w=0;w<e.length;w++){if(d+=e[i][w],a+=e[w][r],o+=e[w][w],s+=e[w][u-w],4==d||4==a||4==o||4==s){for(var f=0;f<4;f++)4==d?n[l(i,f)].classList.add("cellwingreen"):4==a?n[l(f,r)].classList.add("cellwingreen"):4==o?n[l(f,f)].classList.add("cellwingreen"):4==s&&n[l(f,u-f)].classList.add("cellwingreen");return document.getElementById("winner").innerText="Green Win",void(t=!1)}if(-4==d||-4==a||-4==o||-4==s){for(var g=0;g<4;g++)-4==d?n[l(i,g)].classList.add("cellwinpink"):-4==a?n[l(g,r)].classList.add("cellwinpink"):-4==o?n[l(g,g)].classList.add("cellwinpink"):-4==s&&n[l(g,u-g)].classList.add("cellwinpink");return document.getElementById("winner").innerText="Pink Win",void(t=!1)}for(var m=0;m<e[w].length;m++)0==e[w][m]&&(c+=1)}if(0==c)return document.getElementById("winner").innerText="Tie game",void(t=!1)}function l(e,n){return 4*e+n}n.forEach((function(r,c){r.addEventListener("click",(function(){var d=c%4,a=(c-d)/4;0!=t&&(1!=t||0==e[a][d]?(document.getElementById("winner").innerText="who will win ?",e[a][d]=1,r.classList.add("j1couleur"),i(a,d),setTimeout((function(){!function(){for(var r=[],c=0;c<e.length;c++)for(var d=0;d<e[c].length;d++)if(0==e[c][d]){var a=l(c,d);r.push(a)}var o=r[Math.floor(Math.random()*r.length)],s=o%4,u=(o-s)/4;0==e[u][s]&&1==t&&(e[u][s]=-1,n[o].classList.add("j2couleur"),i(u,s))}()}),500)):document.getElementById("winner").innerText="All ready cliqued..")}))})),document.getElementById("restart").addEventListener("click",(function(){e=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],t=!0,document.getElementById("winner").innerText="who will win ?",n.forEach((function(e){e.classList.remove("j1couleur","j2couleur","cellwingreen","cellwinpink")}))}))})();